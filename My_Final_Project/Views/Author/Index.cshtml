@model List<Author>

@{
    ViewData["Title"] = "Authors";
    Layout = "_AdvLayout";
}
<style>
        .grad {
        background: linear-gradient(to right, #59ab6e,darkgreen);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
    }
    .table-hover tbody tr:hover {
        background-color: #59ab6e;
        cursor: pointer;
        color: #fff;
    }

    .marg {
        width: 80%;
        margin: 0 auto;
    }
</style>

<section class="container-fluid marg mt-5">
    <h2 class=" text-center grad fs-1">Our Amazing Authors</h2>
    <hr class="mt-3 mb-5" />
    <table class="table table-bordered table-hover table-striped">
    <thead class="thead-dark">
        <tr>
            <th>Name</th>
            <th>Image</th>
            <th>Publish Count</th>
        </tr>
    </thead>
    <tbody>
        @foreach (var author in Model)
        {
            <tr>
                <td>
                    @author.Name
                </td>
                <td>
                    <img class="card-img-top" src="/Images/@author.Image" alt="author Image" style="width:30px;height:60px;">
                </td>
                <td>
                    @author.PublishCount
                </td>
            </tr>
        }
    </tbody>
</table>
    <hr class="mt-3 mb-5" />
</section>





<script>
    document.querySelectorAll('.table-hover tbody tr').forEach(function (tr) {
        tr.addEventListener('click', function () {
            var authorname = this.querySelector('td:first-child').innerText;
            window.location.href = '/book/UserSearch?author=' + authorname;
        });
    });
</script>
